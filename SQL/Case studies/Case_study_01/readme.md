# 📊 SQL Case Study 1

## 📝 Problem Statement
You are a database administrator analyzing sales and profit data to gain insights into customer behavior, state-wise performance, marketing expenditure, and product profitability. The objective is to answer key business questions using SQL queries.

## 📂 Dataset Description
The dataset consists of **three tables**:

1. **FactTable (4200 rows)**: Contains key financial metrics.
   - Columns: `Date`, `ProductID`, `Profit`, `Sales`, `Margin`, `COGS`, `Total Expenses`, `Marketing`, `Inventory`, `Budget Profit`, `Budget COGS`, `Budget Margin`, `Budget Sales`, `Area Code`
   - **COGS**: Cost of Goods Sold
   
2. **ProductTable (13 rows)**: Contains product details.
   - Columns: `ProductID`, `Product Type`, `Product`, `Type`
   
3. **LocationTable (156 rows)**: Contains location-based data.
   - Columns: `Area Code`, `State`, `Market`, `Market Size`

## ✅ SQL Tasks Performed

1️⃣ Count the **number of states** in the dataset.  
2️⃣ Identify the **number of regular-type products**.  
3️⃣ Calculate **total marketing spend** for Product ID 1.  
4️⃣ Find the **minimum sales** recorded.  
5️⃣ Display the **highest Cost of Goods Sold (COGS)**.  
6️⃣ Retrieve **product details** where the type is "Coffee".  
7️⃣ Display records where **total expenses > 40**.  
8️⃣ Find the **average sales in area code 719**.  
9️⃣ Calculate **total profit generated by Colorado**.  
🔟 Display the **average inventory for each product ID**.  

🔹 List states in **sequential order** from the `LocationTable`.  
🔹 Find **average budget margin > 100** for profitable products.  
🔹 Calculate **total sales on a specific date (2010-01-01)**.  
🔹 Compute **average total expenses per product per date**.  
🔹 Display a **ranked sales table** without gaps.  
🔹 Perform **state-wise profit & sales analysis**.  
🔹 Determine **state-wise profit & sales along with product names**.  
🔹 Simulate **5% sales growth & calculate the impact**.  
🔹 Identify the **maximum profit product along with ProductID and Type**.  
🔹 Create a **stored procedure** to filter products dynamically.  
🔹 Implement a **profit/loss classification** based on total expenses.  
🔹 Generate **weekly sales values with roll-up** for hierarchical analysis.  
🔹 Apply **Union & Intersection operators** on location-based data.  
🔹 Create a **user-defined function** to fetch a specific product type.  
🔹 Modify and undo **Product Type changes** (e.g., Coffee → Tea).  
🔹 Delete **regular-type products** from `ProductTable`.  
🔹 Display the **ASCII value of the 5th character from the product name**.  

## 🔍 Key Insights

- **There are X unique states** in the dataset.
- **Y products** are classified as "Regular Type."
- **Total marketing spend** for Product ID 1: `$Z`
- **Minimum sales recorded:** `$A` | **Max COGS:** `$B`
- **Top-selling product:** `XYZ` | **Least-selling product:** `ABC`
- **Colorado's total profit:** `$C`
- **Area Code 719 - Avg. Sales:** `$D`
- **Projected 5% Sales Increase:** `$E`
---
🔗 **Author:** *Ramkumar N*  
📅 **Date:** *22/01/2025*  
💡 **Source:** Intellipaat SQL Case Study

---

