# ğŸ“Š SQL Case Study 1

## ğŸ“ Problem Statement
You are a database administrator analyzing sales and profit data to gain insights into customer behavior, state-wise performance, marketing expenditure, and product profitability. The objective is to answer key business questions using SQL queries.

## ğŸ“‚ Dataset Description
The dataset consists of **three tables**:

1. **FactTable (4200 rows)**: Contains key financial metrics.
   - Columns: `Date`, `ProductID`, `Profit`, `Sales`, `Margin`, `COGS`, `Total Expenses`, `Marketing`, `Inventory`, `Budget Profit`, `Budget COGS`, `Budget Margin`, `Budget Sales`, `Area Code`
   - **COGS**: Cost of Goods Sold
   
2. **ProductTable (13 rows)**: Contains product details.
   - Columns: `ProductID`, `Product Type`, `Product`, `Type`
   
3. **LocationTable (156 rows)**: Contains location-based data.
   - Columns: `Area Code`, `State`, `Market`, `Market Size`

## âœ… SQL Tasks Performed

1ï¸âƒ£ Count the **number of states** in the dataset.  
2ï¸âƒ£ Identify the **number of regular-type products**.  
3ï¸âƒ£ Calculate **total marketing spend** for Product ID 1.  
4ï¸âƒ£ Find the **minimum sales** recorded.  
5ï¸âƒ£ Display the **highest Cost of Goods Sold (COGS)**.  
6ï¸âƒ£ Retrieve **product details** where the type is "Coffee".  
7ï¸âƒ£ Display records where **total expenses > 40**.  
8ï¸âƒ£ Find the **average sales in area code 719**.  
9ï¸âƒ£ Calculate **total profit generated by Colorado**.  
ğŸ”Ÿ Display the **average inventory for each product ID**.  

ğŸ”¹ List states in **sequential order** from the `LocationTable`.  
ğŸ”¹ Find **average budget margin > 100** for profitable products.  
ğŸ”¹ Calculate **total sales on a specific date (2010-01-01)**.  
ğŸ”¹ Compute **average total expenses per product per date**.  
ğŸ”¹ Display a **ranked sales table** without gaps.  
ğŸ”¹ Perform **state-wise profit & sales analysis**.  
ğŸ”¹ Determine **state-wise profit & sales along with product names**.  
ğŸ”¹ Simulate **5% sales growth & calculate the impact**.  
ğŸ”¹ Identify the **maximum profit product along with ProductID and Type**.  
ğŸ”¹ Create a **stored procedure** to filter products dynamically.  
ğŸ”¹ Implement a **profit/loss classification** based on total expenses.  
ğŸ”¹ Generate **weekly sales values with roll-up** for hierarchical analysis.  
ğŸ”¹ Apply **Union & Intersection operators** on location-based data.  
ğŸ”¹ Create a **user-defined function** to fetch a specific product type.  
ğŸ”¹ Modify and undo **Product Type changes** (e.g., Coffee â†’ Tea).  
ğŸ”¹ Delete **regular-type products** from `ProductTable`.  
ğŸ”¹ Display the **ASCII value of the 5th character from the product name**.  

## ğŸ” Key Insights

- **There are X unique states** in the dataset.
- **Y products** are classified as "Regular Type."
- **Total marketing spend** for Product ID 1: `$Z`
- **Minimum sales recorded:** `$A` | **Max COGS:** `$B`
- **Top-selling product:** `XYZ` | **Least-selling product:** `ABC`
- **Colorado's total profit:** `$C`
- **Area Code 719 - Avg. Sales:** `$D`
- **Projected 5% Sales Increase:** `$E`
---
ğŸ”— **Author:** *Ramkumar N*  
ğŸ“… **Date:** *22/01/2025*  
ğŸ’¡ **Source:** Intellipaat SQL Case Study

---

